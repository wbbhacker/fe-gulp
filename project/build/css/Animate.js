!function(e){var n=Date.now||function(){return+new Date},t={},r=1;e.core?core.effect||(core.effect={}):e.core={effect:{}},core.effect.Animate={requestAnimationFrame:function(){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame,t=!!n;if(n&&!/requestAnimationFrame\(\)\s*\{\s*\[native code\]\s*\}/i.test(n.toString())&&(t=!1),t)return function(e,t){n(e,t)};var r={},a=1,i=null,o=+new Date;return function(e,n){var t=a++;return r[t]=e,0,null===i&&(i=setInterval(function(){var e=+new Date,n=r;r={},0;for(var t in n)n.hasOwnProperty(t)&&(n[t](e),o=e);e-o>2500&&(clearInterval(i),i=null)},1e3/60)),t}}(),stop:function(e){var n=null!=t[e];return n&&(t[e]=null),n},isRunning:function(e){return null!=t[e]},start:function(e,a,i,o,u,f){var c=n(),m=c,l=0,s=0,v=r++;if(f||(f=document.body),v%20==0){var A={};for(var q in t)A[q]=!0;t=A}var F=function(r){var A=!0!==r,q=n();if(!t[v]||a&&!a(v))return t[v]=null,void(i&&i(60-s/((q-c)/1e3),v,!1));if(A)for(var w=Math.round((q-m)/(1e3/60))-1,d=0;d<Math.min(w,4);d++)F(!0),s++;o&&(l=(q-c)/o)>1&&(l=1);var h=u?u(l):l;!1!==e(h,q,A)&&1!==l||!A?A&&(m=q,core.effect.Animate.requestAnimationFrame(F,f)):(t[v]=null,i&&i(60-s/((q-c)/1e3),v,1===l||null==o))};return t[v]=!0,core.effect.Animate.requestAnimationFrame(F,f),v}}}(this);