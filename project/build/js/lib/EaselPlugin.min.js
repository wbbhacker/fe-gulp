var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";var e,t,r=/(\d|\.)+/g,i=["redMultiplier","greenMultiplier","blueMultiplier","alphaMultiplier","redOffset","greenOffset","blueOffset","alphaOffset"],n={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},l=function(e){return""===e||null==e||"none"===e?n.transparent:n[e]?n[e]:"number"==typeof e?[e>>16,e>>8&255,255&e]:"#"===e.charAt(0)?(4===e.length&&(e="#"+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2)+e.charAt(3)+e.charAt(3)),[(e=parseInt(e.substr(1),16))>>16,e>>8&255,255&e]):e.match(r)||n.transparent},o=function(t,r,n){if(!e&&(e=_gsScope.ColorFilter||_gsScope.createjs.ColorFilter,!e))throw"EaselPlugin error: The EaselJS ColorFilter JavaScript file wasn't loaded.";for(var o,s,a,u,f,c=t.filters||[],p=c.length;--p>-1;)if(c[p]instanceof e){s=c[p];break}if(s||(s=new e,c.push(s),t.filters=c),a=s.clone(),null!=r.tint)o=l(r.tint),u=null!=r.tintAmount?Number(r.tintAmount):1,a.redOffset=Number(o[0])*u,a.greenOffset=Number(o[1])*u,a.blueOffset=Number(o[2])*u,a.redMultiplier=a.greenMultiplier=a.blueMultiplier=1-u;else for(f in r)"exposure"!==f&&"brightness"!==f&&(a[f]=Number(r[f]));for(null!=r.exposure?(a.redOffset=a.greenOffset=a.blueOffset=255*(Number(r.exposure)-1),a.redMultiplier=a.greenMultiplier=a.blueMultiplier=1):null!=r.brightness&&(u=Number(r.brightness)-1,a.redOffset=a.greenOffset=a.blueOffset=u>0?255*u:0,a.redMultiplier=a.greenMultiplier=a.blueMultiplier=1-Math.abs(u)),p=8;--p>-1;)f=i[p],s[f]!==a[f]&&n._addTween(s,f,s[f],a[f],"easel_colorFilter");if(n._overwriteProps.push("easel_colorFilter"),!t.cacheID)throw"EaselPlugin warning: for filters to display in EaselJS, you must call the object's cache() method first. "+t},s=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],a=.212671,u=.072169,f=function(e,t){if(!(e instanceof Array&&t instanceof Array))return t;var r,i,n=[],l=0,o=0;for(r=0;4>r;r++){for(i=0;5>i;i++)o=4===i?e[l+4]:0,n[l+i]=e[l]*t[i]+e[l+1]*t[i+5]+e[l+2]*t[i+10]+e[l+3]*t[i+15]+o;l+=5}return n},c=function(e,r,i){if(!t&&(t=_gsScope.ColorMatrixFilter||_gsScope.createjs.ColorMatrixFilter,!t))throw"EaselPlugin error: The EaselJS ColorMatrixFilter JavaScript file wasn't loaded.";for(var n,o,c,p=e.filters||[],h=p.length;--h>-1;)if(p[h]instanceof t){c=p[h];break}for(c||(c=new t(s.slice()),p.push(c),e.filters=p),o=c.matrix,n=s.slice(),null!=r.colorize&&(n=function(e,t,r){isNaN(r)&&(r=1);var i=l(t),n=i[0]/255,o=i[1]/255,s=i[2]/255,c=1-r;return f([c+r*n*a,r*n*.71516,r*n*u,0,0,r*o*a,c+r*o*.71516,r*o*u,0,0,r*s*a,r*s*.71516,c+r*s*u,0,0,0,0,0,1,0],e)}(n,r.colorize,Number(r.colorizeAmount))),null!=r.contrast&&(g=n,_=Number(r.contrast),n=isNaN(_)?g:f([_+=.01,0,0,0,128*(1-_),0,_,0,0,128*(1-_),0,0,_,0,128*(1-_),0,0,0,1,0],g)),null!=r.hue&&(n=function(e,t){if(isNaN(t))return e;t*=Math.PI/180;var r=Math.cos(t),i=Math.sin(t);return f([a+.787329*r+i*-a,.71516+-.71516*r+-.71516*i,u+r*-u+.927831*i,0,0,a+r*-a+.143*i,.71516+.28484*r+.14*i,u+r*-u+-.283*i,0,0,a+r*-a+-.787329*i,.71516+-.71516*r+.71516*i,u+.927831*r+i*u,0,0,0,0,0,1,0,0,0,0,0,1],e)}(n,Number(r.hue))),null!=r.saturation&&(n=function(e,t){if(isNaN(t))return e;var r=1-t,i=r*a,n=.71516*r,l=r*u;return f([i+t,n,l,0,0,i,n+t,l,0,0,i,n,l+t,0,0,0,0,0,1,0],e)}(n,Number(r.saturation))),h=n.length;--h>-1;)n[h]!==o[h]&&i._addTween(o,h,o[h],n[h],"easel_colorMatrixFilter");var g,_;if(i._overwriteProps.push("easel_colorMatrixFilter"),!e.cacheID)throw"EaselPlugin warning: for filters to display in EaselJS, you must call the object's cache() method first. "+e;i._matrix=o};_gsScope._gsDefine.plugin({propName:"easel",priority:-1,version:"0.2.0",API:2,init:function(e,t,r,i){this._target=e;var n,l,s,a,u;for(n in t)u=t[n],"function"==typeof u&&(u=u(i,e)),"colorFilter"===n||"tint"===n||"tintAmount"===n||"exposure"===n||"brightness"===n?s||(o(e,t.colorFilter||t,this),s=!0):"saturation"===n||"contrast"===n||"hue"===n||"colorize"===n||"colorizeAmount"===n?a||(c(e,t.colorMatrixFilter||t,this),a=!0):"frame"===n?(this._firstPT=l={_next:this._firstPT,t:e,p:"gotoAndStop",s:e.currentFrame,f:!0,n:"frame",pr:0,type:0,m:Math.round},l.c="number"==typeof u?u-l.s:"string"==typeof u?parseFloat(u.split("=").join("")):0,l._next&&(l._next._prev=l)):null!=e[n]&&(this._firstPT=l={_next:this._firstPT,t:e,p:n,f:"function"==typeof e[n],n:n,pr:0,type:0},l.s=l.f?e[n.indexOf("set")||"function"!=typeof e["get"+n.substr(3)]?n:"get"+n.substr(3)]():parseFloat(e[n]),l.c="number"==typeof u?u-l.s:"string"==typeof u?parseFloat(u.split("=").join("")):0,l._next&&(l._next._prev=l));return!0},set:function(e){for(var t,r=this._firstPT;r;)t=r.c*e+r.s,r.m?t=r.m(t,r.t):1e-6>t&&t>-1e-6&&(t=0),r.f?r.t[r.p](t):r.t[r.p]=t,r=r._next;this._target.cacheID&&this._target.updateCache()}})}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()();